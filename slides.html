<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<title>JVM: need for speed</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=1274, user-scalable=no">
	<link rel="stylesheet" href="themes/ribbon/styles/style.css">
	<link rel="stylesheet" href="themes/ribbon/styles/print.css" media="print">
	<!--
		To apply styles to the certain slides
		use slide ID to get needed elements
		-->
	<style>
		#Cover h2 { color:#FFF; text-align:left; font-size:60px; }
		#FitToWidth h2,
		#FitToHeight h2 {
			color:#FFF;
			text-align:center;
			}
	</style>
</head>
<body class="list">
	<header class="caption">
		<h1>JVM: need for speed</h1>
		<p>Andrey Adamovich, Aestas/IT</p>
	</header>
	<div class="slide cover" id="Cover"><div>
		<section>
			<header>
				<h2></h2>
			</header><img src="images/COVER_NEED_FOR_SPEED.png" />
		</section>
	</div></div>	
	
    
    
       
    <div class="slide shout" id="1"><div>
        <section>
			<header>
				<h2>About me</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide" id="2"><div>
        <section>
			<header>
				<h2>Andrey Adamovich</h2>
			</header>    
            <ul> 
 <li>Bio: Developer, coach, speaker, author</li> 
 <li>Company: Aestas/IT (<a href="http://aestasit.com">http://aestasit.com</a>)</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="3"><div>
        <section>
			<header>
				<h2>Contact details</h2>
			</header>    
            <ul> 
 <li>E-mail: <a href="mailto:andrey@aestasit.com">andrey@aestasit.com</a></li> 
 <li>Linkedin: <a href="http://www.linkedin.com/in/andreyadamovich">http://www.linkedin.com/in/andreyadamovich</a></li> 
 <li>Lanyrd: <a href="http://lanyrd.com/profile/andrey-adamovich">http://lanyrd.com/profile/andrey-adamovich</a></li> 
 <li>GitHub: <a href="https://github.com/aadamovich">https://github.com/aadamovich</a></li> 
 <li>SO: <a href="http://stackoverflow.com/users/162792/andrey-adamovich">http://stackoverflow.com/users/162792/andrey-adamovich</a></li> 
 <li>Twitter: @codingandrey, @aestasit</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="4"><div>
        <section>
			<header>
				<h2>What's in this presentation?</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="5"><div><section><header><h2>The tools</h2></header> <img src="images/BG_CARPETNER_TOOLS.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="6"><div><section><header><h2>The game</h2></header> <img src="images/BG_XBOX_CONTROLLER.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="7"><div>
        <section>
			<header>
				<h2>Rules</h2>
			</header>    
            <ul> 
 <li>Picture is shown</li> 
 <li>You guess what the next topic is</li> 
 <li>First one to guess gets a sticker!</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="8"><div>
        <section>
			<header>
				<h2>Let's try!</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="9"><div><section><header><h2></h2></header> <img src="images/BG_JAVA_MAP.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="10"><div><section><header><h2>Java's (Hash)Map</h2></header> <img src="images/BG_JAVA_MAP.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="11"><div><section><header><h2></h2></header> <img src="images/BG_BIGDATA.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="12"><div><section><header><h2>BigData</h2></header> <img src="images/BG_BIGDATA.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="13"><div>
        <section>
			<header>
				<h2>Let the games begin!</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="14"><div><section><header><h2></h2></header> <img src="images/BG_GC_PAUSE.png" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="15"><div><section><header><h2>GC Pauses</h2></header> <img src="images/BG_GC_PAUSE_TWEET.png" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="16"><div>
        <section>
			<header>
				<h2>What are the good parameters?</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="17"><div>
        <section>
			<header>
				<h2>So many options....</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide" id="18"><div>
        <section>
			<header>
				<h2>So many options....</h2>
			</header>    
            <pre>
<code>&gt; java -XX:+PrintFlagsFinal -version | wc -l</code>
<code>java version &quot;1.8.0_45&quot;</code>
<code>Java(TM) SE Runtime Environment (build 1.8.0_45-b15)</code>
<code>Java HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)</code>
<code>714</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="19"><div>
        <section>
			<header>
				<h2>So many options....</h2>
			</header>    
            <pre>
<code>&gt; java -XX:+PrintFlagsFinal -version | wc -l</code>
<code>java version &quot;1.7.0_80&quot;</code>
<code>Java(TM) SE Runtime Environment (build 1.7.0_80-b15)</code>
<code>Java HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)</code>
<code>668</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="20"><div>
        <section>
			<header>
				<h2>So many options....</h2>
			</header>    
            <pre>
<code>&gt; java -XX:+PrintFlagsFinal -version | wc -l</code>
<code>java version &quot;1.6.0_45&quot;</code>
<code>Java(TM) SE Runtime Environment (build 1.6.0_45-b06)</code>
<code>Java HotSpot(TM) 64-Bit Server VM (build 20.45-b01, mixed mode)</code>
<code>670</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="21"><div>
        <section>
			<header>
				<h2>So many options....</h2>
			</header>    
            <pre>
<code>&gt; java -XX:+PrintFlagsFinal -version | grep GC | wc -l</code>
<code>65</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="22"><div>
        <section>
			<header>
				<h2>Use cases</h2>
			</header>    
            <ul> 
 <li>Web application</li> 
 <li>Streaming application</li> 
 <li>Background job</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="23"><div>
        <section>
			<header>
				<h2>Memory tuning?</h2>
			</header>    
            <pre>
<code>-Xms&lt;heap size&gt;[g|m|k] </code>
<code>-Xmx&lt;heap size&gt;[g|m|k]</code>
<code>-XX:PermSize=&lt;perm gen size&gt;[g|m|k] </code>
<code>-XX:MaxPermSize=&lt;perm gen size&gt;[g|m|k]</code>
<code>-Xmn&lt;young size&gt;[g|m|k]</code>
<code>-XX:SurvivorRatio=&lt;ratio&gt;</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="24"><div>
        <section>
			<header>
				<h2>Leverage multi-core</h2>
			</header>    
            <pre>
<code>-XX:+UseConcMarkSweepGC </code>
<code>-XX:+UseCMSInitiatingOccupancyOnly </code>
<code>-XX:+ScavengeBeforeFullGC </code>
<code>-XX:+CMSScavengeBeforeRemark</code>
<code>-XX:+CMSConcurrentMTEnabled</code>
<code>-XX:CMSInitiatingOccupancyFraction=70</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="25"><div>
        <section>
			<header>
				<h2>GC logging</h2>
			</header>    
            <pre>
<code>-XX:+PrintGCDetails </code>
<code>-XX:+PrintGCDateStamps </code>
<code>-Xloggc:&lt;file-path&gt; </code>
<code>-XX:+PrintGCApplicationConcurrentTime </code>
<code>-XX:+PrintSafepointStatistics </code>
<code>-XX:+PrintHeapAtGC</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="26"><div>
        <section>
			<header>
				<h2>Log analysis</h2>
			</header>    
            
<figure> 
 <img src="images/GC_LOG.png" alt="GC" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="27"><div>
        <section>
			<header>
				<h2>Open source: GCViewer</h2>
			</header>    
            
<figure> 
 <img src="images/GCVIEWER.png" alt="GC" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="28"><div>
        <section>
			<header>
				<h2>Comercial: Censum</h2>
			</header>    
            
<figure> 
 <img src="images/CENSUM.png" alt="GC" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="29"><div>
        <section>
			<header>
				<h2>Next riddle</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="30"><div><section><header><h2></h2></header> <img src="images/BG_PHOTO_DUMP.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="31"><div><section><header><h2>Memory dumps</h2></header> <img src="images/BG_PHOTO_DUMP.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="32"><div>
        <section>
			<header>
				<h2>How to take?</h2>
			</header>    
            <p>On out of memory:</p> 
<pre>
<code>-XX:+HeapDumpOnOutOfMemoryError </code>
<code>-XX:HeapDumpPath=&lt;path to dump&gt;`date`.hprof</code>
</pre>
<p>Or manually:</p> 
<pre>
<code>jmap -dump:file=&lt;path to dump&gt; &lt;java process id&gt;</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="33"><div><section><header><h2>jhat</h2></header> <img src="images/JHAT.png" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="34"><div>
        <section>
			<header>
				<h2>Eclipse MAT</h2>
			</header>    
            
<figure> 
 <img src="images/MAT.png" alt="oql" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="35"><div>
        <section>
			<header>
				<h2>OQL</h2>
			</header>    
            
<figure> 
 <img src="images/OQL.jpg" alt="oql" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="36"><div>
        <section>
			<header>
				<h2>Useful characteristics</h2>
			</header>    
            <ul> 
 <li>Object Retained Size</li> 
 <li>Object Shallow Size</li> 
 <li>Stale Objects (not connected to GC roots)</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="37"><div>
        <section>
			<header>
				<h2>Flight Recording</h2>
			</header>    
            
<figure> 
 <img src="images/FLIGHT_RECORDING.png" alt="fr" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="38"><div>
        <section>
			<header>
				<h2>Comercial</h2>
			</header>    
            <ul> 
 <li>YourKit</li> 
 <li>jProfiler</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="39"><div>
        <section>
			<header>
				<h2>Next riddle</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="40"><div><section><header><h2></h2></header> <img src="images/BG_THREAD_DUMP.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="41"><div><section><header><h2>Thread dumps</h2></header> <img src="images/BG_THREAD_DUMP.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="42"><div>
        <section>
			<header>
				<h2>Situations</h2>
			</header>    
            <ul> 
 <li>Dead locks</li> 
 <li>100% CPU load</li> 
 <li>Hanging I/O</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="43"><div>
        <section>
			<header>
				<h2>jstack</h2>
			</header>    
            <pre>
<code>jstack &lt;java process pid&gt;</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="44"><div>
        <section>
			<header>
				<h2>JMX</h2>
			</header>    
            <ul> 
 <li>Use MBean with name <code>java.lang:type=Threading</code></li> 
 <li>Call <code>getAllThreadIds</code></li> 
 <li>Loop through all retrieved IDs and call <code>getThreadInfo</code></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="45"><div>
        <section>
			<header>
				<h2>The cheapest profiler</h2>
			</header>    
            <pre>
<code>for ((a=1; a &lt;= 60; a++))</code>
<code>do </code>
<code>  jstack 7789 &gt; thread-dump.$a</code>
<code>  sleep 1</code>
<code>  echo $a</code>
<code>done</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="46"><div>
        <section>
			<header>
				<h2>Thread dump analysis</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide" id="47"><div>
        <section>
			<header>
				<h2>Thread dump structure</h2>
			</header>    
            
<figure> 
 <img src="images/THREADDUMP_STRUCTUTURE.png" alt="TDA" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="48"><div>
        <section>
			<header>
				<h2>Thread states I</h2>
			</header>    
            <p>A thread can be in one of the following states:</p> 
<ul> 
 <li><code>NEW</code> A thread that has not yet started is in this state.</li> 
 <li><code>RUNNABLE</code> A thread executing in the Java virtual machine is in this state.</li> 
 <li><code>BLOCKED</code> A thread that is blocked waiting for a monitor lock is in this state.</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="49"><div>
        <section>
			<header>
				<h2>Thread states II</h2>
			</header>    
            <ul> 
 <li><code>WAITING</code> A thread that is waiting indefinitely for another thread to perform a particular action is in this state.</li> 
 <li><code>TIMED_WAITING</code> A thread that is waiting for another thread to perform an action for up to a specified waiting time is in this state.</li> 
 <li><code>TERMINATED</code> A thread that has exited is in this state.</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="50"><div>
        <section>
			<header>
				<h2>TDA</h2>
			</header>    
            
<figure> 
 <img src="images/TDA.png" alt="TDA" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="51"><div>
        <section>
			<header>
				<h2>Samurai</h2>
			</header>    
            
<figure> 
 <img src="images/SAMURAI.gif" alt="TDA" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="52"><div>
        <section>
			<header>
				<h2>IBM TMDA</h2>
			</header>    
            
<figure> 
 <img src="images/IBM_TDA.jpg" alt="TDA" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="53"><div>
        <section>
			<header>
				<h2>Use custom scripts</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="54"><div>
        <section>
			<header>
				<h2>Next riddle</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="55"><div><section><header><h2></h2></header> <img src="images/BG_DEBUGGING.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="56"><div><section><header><h2>Debugging</h2></header> <img src="images/BG_DEBUGGING.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="57"><div>
        <section>
			<header>
				<h2>We need it when we have...</h2>
			</header>    
            <ul> 
 <li>Non-reproducable issues</li> 
 <li>Hard-to-understand code</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="58"><div>
        <section>
			<header>
				<h2>Enable debugging</h2>
			</header>    
            <pre>
<code>-agentlib:jdwp=transport=dt_socket,server=y,address=1337</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="59"><div>
        <section>
			<header>
				<h2>Use your IDE (Eclipse)</h2>
			</header>    
            
<figure> 
 <img src="images/ECLIPSE_REMOTE_DEBUG.png" alt="eclipse" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="60"><div>
        <section>
			<header>
				<h2>Use your IDE (Intellij IDEA)</h2>
			</header>    
            
<figure> 
 <img src="images/IDEA_REMOTE_DEBUG.png" alt="idea" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="61"><div>
        <section>
			<header>
				<h2>jdb</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide" id="62"><div>
        <section>
			<header>
				<h2>jdb</h2>
			</header>    
            
<figure> 
 <img src="images/JDB_EXAMPLE.png" alt="jdb" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="63"><div>
        <section>
			<header>
				<h2>YouDebug</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide" id="64"><div>
        <section>
			<header>
				<h2>YouDebug</h2>
			</header>    
            <blockquote>
 <p>YouDebug is a non-interactive debugger scripted by Groovy to assist remote troubleshooting and data collection to analyze failures.</p> 
</blockquote>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="65"><div>
        <section>
			<header>
				<h2>YouDebug</h2>
			</header>    
            <ul> 
 <li><a href="http://youdebug.kohsuke.org/">http://youdebug.kohsuke.org/</a></li> 
 <li><a href="https://github.com/kohsuke/youdebug">https://github.com/kohsuke/youdebug</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="66"><div>
        <section>
			<header>
				<h2>YouDebug (buggy class)</h2>
			</header>    
            <pre>
<code>public class SubStringTest {</code>
<code>  public static void main(String[] args) {</code>
<code>    String s = someLengthComputationOfString();</code>
<code>    System.out.println(s.substring(5));</code>
<code>  }</code>
<code>  private static String someLengthComputationOfString() {</code>
<code>    ...;</code>
<code>  }</code>
<code>}</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="67"><div>
        <section>
			<header>
				<h2>YouDebug (SubStringMonitor.ydb)</h2>
			</header>    
            <pre>
<code>breakpoint(&quot;com.acme.SubStringTest&quot;,3) {</code>
<code>  println &quot;s=&quot;+s;</code>
<code>}</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="68"><div>
        <section>
			<header>
				<h2>YouDebug (run debugger)</h2>
			</header>    
            <pre>
<code>&gt; java -jar youdebug.jar -socket 1337 SubStringMonitor.ydb</code>
<code>s=test</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="69"><div>
        <section>
			<header>
				<h2>Next riddle</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="70"><div><section><header><h2></h2></header> <img src="images/BG_DECOMPILE.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="71"><div><section><header><h2>Decompiling</h2></header> <img src="images/BG_DECOMPILE.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="72"><div>
        <section>
			<header>
				<h2>Java Decompiler</h2>
			</header>    
            
<figure> 
 <img src="images/JD_LOGO.png" alt="JD" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="73"><div>
        <section>
			<header>
				<h2>Java Decompiler</h2>
			</header>    
            
<figure> 
 <img src="images/JD_GUI.png" alt="JD" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="74"><div>
        <section>
			<header>
				<h2>Issues</h2>
			</header>    
            <ul> 
 <li>Lack of support for latest JVM features</li> 
 <li>Lack of support for other JVM langauges</li> 
 <li>Obfuscation is always an issue</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="75"><div>
        <section>
			<header>
				<h2>Next riddle</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="76"><div><section><header><h2></h2></header> <img src="images/BG_MARK_PROFILE.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="77"><div><section><header><h2>Profiling</h2></header> <img src="images/BG_MARK_PROFILE.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="78"><div>
        <section>
			<header>
				<h2>Types of profiling</h2>
			</header>    
            <ul> 
 <li>Memory allocation profiling</li> 
 <li>CPU profiling</li> 
 <li>Lock profiling</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="79"><div>
        <section>
			<header>
				<h2>VisualVM</h2>
			</header>    
            
<figure> 
 <img src="images/VISUALVM1.png" alt="vm" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="80"><div>
        <section>
			<header>
				<h2>Comercial</h2>
			</header>    
            <ul> 
 <li>YourKit</li> 
 <li>jProfiler</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="81"><div>
        <section>
			<header>
				<h2>Next riddle</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="82"><div><section><header><h2></h2></header> <img src="images/BG_MARK_ON_A_BENCH.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="83"><div><section><header><h2>Benchmarks</h2></header> <img src="images/BG_MARK_ON_A_BENCH.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="84"><div>
        <section>
			<header>
				<h2>JMH</h2>
			</header>    
            <blockquote>
 <p>MH is a Java harness for building, running, and analysing nano/micro/milli/macro benchmarks written in Java and other languages targetting the JVM.</p> 
</blockquote>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="85"><div>
        <section>
			<header>
				<h2>JMH: example</h2>
			</header>    
            <pre>
<code>package org.openjdk.jmh.samples;</code>
<code></code>
<code>import org.openjdk.jmh.annotations.Benchmark;</code>
<code>import org.openjdk.jmh.runner.Runner;</code>
<code>import org.openjdk.jmh.runner.RunnerException;</code>
<code>import org.openjdk.jmh.runner.options.Options;</code>
<code>import org.openjdk.jmh.runner.options.OptionsBuilder;</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="86"><div>
        <section>
			<header>
				<h2>JHM: example</h2>
			</header>    
            <pre>
<code>public class JMHSample_01_HelloWorld {</code>
<code>  @Benchmark</code>
<code>  public void wellHelloThere() {</code>
<code>    // this method was intentionally left blank.</code>
<code>  }</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="87"><div>
        <section>
			<header>
				<h2>JMH: example</h2>
			</header>    
            <pre>
<code>  public static void main(String[] args) throws RunnerException {</code>
<code>    Options opt = new OptionsBuilder()</code>
<code>            .include(JMHSample_01_HelloWorld.class.getSimpleName())</code>
<code>            .forks(1)</code>
<code>            .build();</code>
<code>    new Runner(opt).run();</code>
<code>  }</code>
<code>}</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="88"><div>
        <section>
			<header>
				<h2>JMH: example</h2>
			</header>    
            <pre>
<code>&gt; mvn clean install</code>
<code>&gt; java -jar target/benchmarks.jar JMHSample_01_HelloWorld</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="89"><div>
        <section>
			<header>
				<h2>JMH: annotations</h2>
			</header>    
            <pre>
<code>@Benchmark @BenchmarkMode @CompilerControl </code>
<code>@Fork @Group @GroupThreads</code>
<code>@Level @Measurement @Mode</code>
<code>@OperationsPerInvocation @OutputTimeUnit</code>
<code>@Param @Scope @Setup @State</code>
<code>@TearDown @Threads @Timeout @Warmup</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="90"><div>
        <section>
			<header>
				<h2>JMH: output</h2>
			</header>    
            
<figure> 
 <img src="images/JMH_OUTPUT.png" alt="jmh" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="91"><div>
        <section>
			<header>
				<h2>Load testing tools</h2>
			</header>    
            <ul> 
 <li>jMeter</li> 
 <li>gatling</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="92"><div>
        <section>
			<header>
				<h2>Next riddle</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="93"><div><section><header><h2></h2></header> <img src="images/BG_MONITORING.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="94"><div><section><header><h2>Monitoring</h2></header> <img src="images/BG_MONITORING.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="95"><div>
        <section>
			<header>
				<h2>JMX is your friend!</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide" id="96"><div>
        <section>
			<header>
				<h2>VisualVM (again)</h2>
			</header>    
            
<figure> 
 <img src="images/VISUALVM2.png" alt="vm" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="97"><div>
        <section>
			<header>
				<h2>Mission Control</h2>
			</header>    
            
<figure> 
 <img src="images/MISSION_CONTROL.png" alt="mc" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="98"><div><section><header><h2>Metrics collection</h2></header> <img src="images/BG_DASHBOARD.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="99"><div>
        <section>
			<header>
				<h2>JMXTrans</h2>
			</header>    
            <blockquote>
 <p>This is effectively the missing connector between speaking to a JVM via JMX on one end and whatever logging / monitoring / graphing package that you can dream up on the other end.</p> 
</blockquote>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="100"><div>
        <section>
			<header>
				<h2>jHiccup</h2>
			</header>    
            <blockquote>
 <p>jHiccup is a non-intrusive instrumentation tool that logs and records platform &quot;hiccups&quot; - including the JVM stalls that often happen when Java applications are executed and/or any OS or hardware platform noise that may cause the running application to not be continuously runnable.</p> 
</blockquote>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="101"><div>
        <section>
			<header>
				<h2>jHiccup</h2>
			</header>    
            <pre>
<code>&gt; java -javaagent:jHiccup.jar MyProgram</code>
</pre>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="102"><div>
        <section>
			<header>
				<h2>jHiccup</h2>
			</header>    
            
<figure> 
 <img src="images/HICCUP_CHART.jpg" alt="jmh" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="103"><div>
        <section>
			<header>
				<h2>Drop Wizard Metrics</h2>
			</header>    
            <blockquote>
 <p>Metrics provides a powerful toolkit of ways to measure the behavior of critical components in your production environment.</p> 
</blockquote>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="104"><div>
        <section>
			<header>
				<h2>Netflix Hysterix</h2>
			</header>    
            
<figure> 
 <img src="images/HYSTERIX.png" alt="sm" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="105"><div>
        <section>
			<header>
				<h2>Stagemonitor</h2>
			</header>    
            
<figure> 
 <img src="images/STAGEMONITOR.png" alt="sm" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="106"><div><section><header><h2></h2></header> <img src="images/BG_SINGLE_VM.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="107"><div><section><header><h2>Single JVM?</h2></header> <img src="images/BG_SINGLE_VM.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="108"><div><section><header><h2>Really?</h2></header> <img src="images/BG_SINGLE_VM.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="109"><div><section><header><h2></h2></header> <img src="images/BG_DEAD_VM.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="110"><div><section><header><h2>Dead JVM</h2></header> <img src="images/BG_DEAD_VM.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="111"><div><section><header><h2></h2></header> <img src="images/BG_MULTI_VM.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="112"><div><section><header><h2>Many JVMs</h2></header> <img src="images/BG_MULTI_VM.jpg" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="113"><div>
        <section>
			<header>
				<h2>Open-source tools</h2>
			</header>    
            <ul> 
 <li>Graphite</li> 
 <li>Graphana</li> 
 <li>Logstash</li> 
 <li>Kibana</li> 
 <li>Graylog2</li> 
 <li>Fluentd</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="114"><div>
        <section>
			<header>
				<h2>Comercial tools</h2>
			</header>    
            <ul> 
 <li>NewRelic</li> 
 <li>Plumbr</li> 
 <li>AppDynamics</li> 
 <li>Dyntrace</li> 
 <li>Takipi</li> 
 <li>Hyperic</li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="115"><div>
        <section>
			<header>
				<h2>Final riddle</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide cover " id="116"><div><section><header><h2></h2></header> <img src="images/BG_LINKS.png" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide cover shout shade" id="117"><div><section><header><h2>Links</h2></header> <img src="images/BG_LINKS.png" alt="-" />

		</section>
	</div></div>
    
    
       
    <div class="slide" id="118"><div>
        <section>
			<header>
				<h2>Links: GC</h2>
			</header>    
            <ul> 
 <li><a href="http://spin.atomicobject.com/2014/09/03/visualizing-garbage-collection-algorithms/">http://spin.atomicobject.com/2014/09/03/visualizing-garbage-collection-algorithms/</a></li> 
 <li><a href="http://techblog.netflix.com/2013/05/garbage-collection-visualization.html">http://techblog.netflix.com/2013/05/garbage-collection-visualization.html</a></li> 
 <li><a href="http://blog.sokolenko.me/2014/11/javavm-options-production.html">http://blog.sokolenko.me/2014/11/javavm-options-production.html</a></li> 
 <li><a href="https://blog.codecentric.de/en/2013/10/useful-jvm-flags-part-7-cms-collector/">https://blog.codecentric.de/en/2013/10/useful-jvm-flags-part-7-cms-collector/</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="119"><div>
        <section>
			<header>
				<h2>Links: GC</h2>
			</header>    
            <ul> 
 <li><a href="http://blog.ragozin.info/2011/09/hotspot-jvm-garbage-collection-options.html">http://blog.ragozin.info/2011/09/hotspot-jvm-garbage-collection-options.html</a></li> 
 <li><a href="http://blog.tier1app.com/2014/11/19/understand-garbage-collection-log/">http://blog.tier1app.com/2014/11/19/understand-garbage-collection-log/</a></li> 
 <li><a href="http://www.tagtraum.com/gcviewer-vmflags.html">http://www.tagtraum.com/gcviewer-vmflags.html</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="120"><div>
        <section>
			<header>
				<h2>Links: GC</h2>
			</header>    
            <ul> 
 <li><a href="http://fasterj.com/tools/gcloganalysers.shtml">http://fasterj.com/tools/gcloganalysers.shtml</a></li> 
 <li><a href="https://github.com/chewiebug/GCViewer">https://github.com/chewiebug/GCViewer</a></li> 
 <li><a href="http://www.jclarity.com/censum/">http://www.jclarity.com/censum/</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="121"><div>
        <section>
			<header>
				<h2>Links: Thread dumps</h2>
			</header>    
            <ul> 
 <li><a href="http://www.javacodegeeks.com/2012/03/jvm-how-to-analyze-thread-dump.html">http://www.javacodegeeks.com/2012/03/jvm-how-to-analyze-thread-dump.html</a></li> 
 <li><a href="http://www.slideshare.net/buzdin/thread-dump-analysis">http://www.slideshare.net/buzdin/thread-dump-analysis</a></li> 
 <li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html">http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="122"><div>
        <section>
			<header>
				<h2>Links: Tools</h2>
			</header>    
            <ul> 
 <li><a href="https://github.com/akullpp/awesome-java">https://github.com/akullpp/awesome-java</a></li> 
 <li><a href="https://github.com/aragozin/jvm-tools">https://github.com/aragozin/jvm-tools</a></li> 
 <li><a href="http://openjdk.java.net/projects/code-tools/jmh/">http://openjdk.java.net/projects/code-tools/jmh/</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="123"><div>
        <section>
			<header>
				<h2>Links: Tools</h2>
			</header>    
            <ul> 
 <li><a href="http://youdebug.kohsuke.org/">http://youdebug.kohsuke.org/</a></li> 
 <li><a href="https://java.net/projects/tda">https://java.net/projects/tda</a></li> 
 <li><a href="http://samuraism.jp/samurai/en/index.html">http://samuraism.jp/samurai/en/index.html</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="124"><div>
        <section>
			<header>
				<h2>Links: Tools</h2>
			</header>    
            <ul> 
 <li><a href="https://github.com/jmxtrans/jmxtrans">https://github.com/jmxtrans/jmxtrans</a></li> 
 <li><a href="http://www.stagemonitor.org/">http://www.stagemonitor.org/</a></li> 
 <li><a href="http://jamonapi.sourceforge.net/">http://jamonapi.sourceforge.net/</a></li> 
 <li><a href="https://github.com/Netflix/Hystrix">https://github.com/Netflix/Hystrix</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="125"><div>
        <section>
			<header>
				<h2>Links: Tools</h2>
			</header>    
            <ul> 
 <li><a href="http://www.eclipse.org/tptp/home/documents/tutorials/profilingtool/profilingexample_32.html">http://www.eclipse.org/tptp/home/documents/tutorials/profilingtool/profilingexample_32.html</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="126"><div>
        <section>
			<header>
				<h2>Reading material</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide" id="127"><div>
        <section>
			<header>
				<h2>Java Performance</h2>
			</header>    
            
<figure> 
 <img src="images/BOOK_JAVA_PERFORMANCE.jpg" alt="1" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="128"><div>
        <section>
			<header>
				<h2>Java Performance: The Defenetive Guide</h2>
			</header>    
            
<figure> 
 <img src="images/BOOK_JAVA_PERFORMANCE_DEFINITIVE_GUIDE.jpg" alt="2" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="129"><div>
        <section>
			<header>
				<h2>Java Performance And Scalability</h2>
			</header>    
            
<figure> 
 <img src="images/BOOK_PERFORMANCE_AND_SCALABILITY.jpg" alt="3" /> 
</figure>

		</section>
	</div></div>
    
    
       
    <div class="slide" id="130"><div>
        <section>
			<header>
				<h2>Devternity</h2>
			</header>    
            <ul> 
 <li>1st of December, 2015, Riga</li> 
 <li>Software Craftsmanship Conference</li> 
 <li>3 tracks, 30 speakers</li> 
 <li><a href="http://devternity.com">http://devternity.com</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide" id="131"><div>
        <section>
			<header>
				<h2>RigaDevDay</h2>
			</header>    
            <ul> 
 <li>2nd-4th of March, 2016, Riga</li> 
 <li>Come. See. Develop.</li> 
 <li>5 tracks, 3 days</li> 
 <li><a href="http://rigadevday.lv">http://rigadevday.lv</a></li> 
</ul>
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="132"><div>
        <section>
			<header>
				<h2>This is it!</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="133"><div>
        <section>
			<header>
				<h2>Questions?</h2>
			</header>    
            
		</section>
	</div></div>
    
    
       
    <div class="slide shout" id="134"><div>
        <section>
			<header>
				<h2>Thank you!</h2>
			</header>    
            
		</section>
	</div></div>
    
		
	<!--
		To hide progress bar from entire presentation
		just remove “progress” element.
		-->
	<div class="progress"><div></div></div>
	<script src="scripts/script.js"></script>
	<!-- Copyright © 2010–2012 Vadim Makeev — pepelsbey.net -->
	<!-- Photos by John Carey — fiftyfootshadows.net -->
</body>
</html>